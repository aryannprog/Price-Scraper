{% extends "base.html" %}

{% block title %}Manage Data - Price Scraper Tool{% endblock %}

{% block content %}
<div class="container">

    <!-- Main Content -->
    <div class="main-content" id="content">
    <!-- HTMX Integration -->
    <script src="https://unpkg.com/htmx.org@1.9.5"></script>

        <!-- Add Data Section -->
        <h2 class="heading_manage">‚ûï Add Data in Database</h2>
        <form id="add-data-form" hx-post="/add-data" hx-target="#data-message" hx-swap="innerHTML">
            <div class="form-row">
                <div class="form-group">
                    <label class="add_contents" for="sku_code">SKU Code:</label>
                    <input type="text" id="sku_code" name="sku_code" required>
                </div>

                <div class="form-group shift-right">
                    <label class="add_contents" for="product_description">Product Description:</label>
                    <input type="text" id="product_description" name="product_description" required>
                </div>

                <div class="form-group shift-right-more">
                    <label class="add_contents" for="channel_url">Channel URL:</label>
                    <input type="text" id="channel_url" name="channel_url" required>
                </div>
            </div>

            <button class="manage_buttons" type="submit">Add Row</button>
        </form>
        <div id="data-message"></div>

        <hr class="sep"> <!-- Separator -->

        <!-- Delete Data Section -->
        <h2 class="heading_manage">‚ùå Delete Data from Database</h2>
        <form id="delete-data-form" hx-post="/delete-data" hx-target="#delete-message" hx-swap="innerHTML">
            <p class="form-group">
                <label class="add_contents" for="delete_sku_code">Enter SKU Code to Delete:</label>
                <input type="text" id="delete_sku_code" name="delete_sku_code" required>
            </p>
            <p>
                <button class="manage_buttons" type="submit">Delete Row</button>
            </p>
        </form>
        <div id="delete-message"></div>
        <hr class="sep"> <!-- Separator -->

        <h2 class="heading_manage">üìä Current Data</h2>
        <div class="table-container">
            <div id="data-table" hx-get="/fetch-data" hx-trigger="load" hx-target="#data-table" class="scrollable-table">
            </div>
        </div>
    </div>
</div>
{% endblock %}
